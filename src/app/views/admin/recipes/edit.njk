{% extends "admin/common/layout.njk" %}

{% block content %}

{% block head %}
  <title>Edit a Recipe</title>
  <link rel="stylesheet" href="/admin/create.css">
{% endblock %}

<form id="form-delete" method="post" action="/admin/recipes?_method=DELETE">
  <input type="hidden" name="id" value={{ recipe.id }}>
  <button class="btn btn-delete" type="submit">Deletar</button>
</form>

<form action="/admin/recipes?_method=PUT" method="POST">
<input type="hidden" name="id" value={{ recipe.id }}>

<h3>Editar Receita</h3>

<button type="submit" class="btn btn-save">Salvar receita</button>

<div class="item">
<div>Imagem da receita</div>
<input type="url" name="image" placeholder="http://" value="{{recipe.image}}">
</div>

<div class="item">
<div>Nome da Receita</div>
<input type="text" name="title" placeholder="Ex: Torta de Maça" value="{{recipe.title}}">
</div>

<div class="item">
<div>Autor da Receita</div>
<input type="text" name="name" placeholder="Ex: João Silva" value="{{recipe.name}}">
</div>

<div class="item" id="ingredients">
<div>Ingredientes</div>
{% for ingredient in recipe.ingredients %}
<div class="ingredient">
<input type="text" name="ingredients[]" value="{{ingredient}}">
</div>
{% endfor %}
</div>
<button type="button" class="add-ingredient">Adicionar novo ingrediente</button>

<div class="item" id="steps">
<div>Modo de preparo</div>
{% for step in recipe.preparation %}
<div class="step">
<input type="text" name="preparation[]" value="{{step}}">
</div>
{% endfor %}
</div>
<button type="button" class="add-step">Adicionar novo passo</button>

<div class="item">
<div>Informações adicionais</div>
<textarea name="information">{{recipe.information}}</textarea>
</div>
</form>

<script src="/admin/confirmation.js"></script>
<script src="/admin/add-ingredients.js"></script>
<script src="/admin/add-steps.js"></script>

{% endblock %}

